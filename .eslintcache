[{"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/index.js":"1","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/Footer/index.js":"2","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/Header/index.js":"3","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/Layout/index.js":"4","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/PokemonCard/index.js":"5","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/UI/index.js":"6","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/UI/Controls/Button/index.js":"7","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/MenuHeader/index.js":"8","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/MenuHeader/Menu/index.js":"9","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/MenuHeader/Navbar/index.js":"10","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/AboutPage/index.js":"11","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/HomePage/index.js":"12","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/ContactPage/index.js":"13","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/NotFound/index.js":"14","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/services/firebase.js":"15","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/services/pokemon.js":"16","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/routes/StartPage/index.js":"17","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/App.js":"18","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/index.js":"19","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/routes/BoardPage/index.js":"20","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/routes/FinishPage/index.js":"21","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/context/firebaseContext.js":"22","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/context/pokemonContext.js":"23","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/routes/BoardPage/component/PlayerBoard/index.js":"24"},{"size":319,"mtime":1613074064368,"results":"25","hashOfConfig":"26"},{"size":252,"mtime":1612214952318,"results":"27","hashOfConfig":"26"},{"size":756,"mtime":1613074064346,"results":"28","hashOfConfig":"26"},{"size":885,"mtime":1612383607122,"results":"29","hashOfConfig":"26"},{"size":1868,"mtime":1613083736630,"results":"30","hashOfConfig":"26"},{"size":76,"mtime":1612383607144,"results":"31","hashOfConfig":"26"},{"size":495,"mtime":1613077347969,"results":"32","hashOfConfig":"26"},{"size":713,"mtime":1612613285840,"results":"33","hashOfConfig":"26"},{"size":837,"mtime":1613078404969,"results":"34","hashOfConfig":"26"},{"size":1003,"mtime":1612613285836,"results":"35","hashOfConfig":"26"},{"size":178,"mtime":1612613285848,"results":"36","hashOfConfig":"26"},{"size":1381,"mtime":1613074064411,"results":"37","hashOfConfig":"26"},{"size":184,"mtime":1612613285850,"results":"38","hashOfConfig":"26"},{"size":163,"mtime":1613074064412,"results":"39","hashOfConfig":"26"},{"size":1180,"mtime":1613074553572,"results":"40","hashOfConfig":"26"},{"size":237,"mtime":1613074064418,"results":"41","hashOfConfig":"26"},{"size":2038,"mtime":1613077347959,"results":"42","hashOfConfig":"26"},{"size":1672,"mtime":1613077506135,"results":"43","hashOfConfig":"26"},{"size":2143,"mtime":1613147656607,"results":"44","hashOfConfig":"26"},{"size":3837,"mtime":1613146735596,"results":"45","hashOfConfig":"26"},{"size":2068,"mtime":1613146436491,"results":"46","hashOfConfig":"26"},{"size":85,"mtime":1613074064362,"results":"47","hashOfConfig":"26"},{"size":84,"mtime":1613074064365,"results":"48","hashOfConfig":"26"},{"size":951,"mtime":1613082649556,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"3376at",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"52"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/index.js",[],["100","101"],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/Footer/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/Header/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/Layout/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/PokemonCard/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/UI/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/UI/Controls/Button/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/MenuHeader/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/MenuHeader/Menu/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/components/MenuHeader/Navbar/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/AboutPage/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/HomePage/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/ContactPage/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/NotFound/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/services/firebase.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/services/pokemon.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/routes/StartPage/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/App.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/index.js",["102"],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/routes/BoardPage/index.js",["103","104"],"import { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PokemonContext } from 'src/context/pokemonContext';\nimport PokemonCard from 'src/components/PokemonCard';\nimport PlayerBoard from './component/PlayerBoard';\nimport s from './style.module.css';\n\nconst counterWin = (board, player1, player2) => {\n  let player1Count = player1.length;\n  let player2Count = player2.length;\n\n  board.forEach(item => {\n    if (item.card.possession === 'red') {\n      player2Count++;\n    }\n\n    if (item.card.possession === 'blue') {\n      player1Count++;\n    }\n  });\n\n  return [player1Count, player2Count];\n};\n\nconst BoardPage = () => {\n  const { pokemons, onPlayersCardsFetched, onGameFinished } = useContext(PokemonContext);\n  const [board, setBoard] = useState([]);\n  const [player1, setPlayer1] = useState(() => {\n    return Object.values(pokemons).map(pokemon => ({\n      ...pokemon,\n      possession: 'blue',\n    }))\n  });\n  const [player2, setPlayer2] = useState([]);\n  const [choiceCard, setChoiceCard] = useState(null);\n  const [steps, setSteps] = useState(0);\n  const history = useHistory();\n\n  useEffect(() => {\n    async function _fetchData() {\n      const boardResponse = await fetch('https://reactmarathon-api.netlify.app/api/board');\n      const boardRequest = await boardResponse.json();\n\n      setBoard(boardRequest.data);\n\n      const player2Response = await fetch('https://reactmarathon-api.netlify.app/api/create-player');\n      const player2Request = await player2Response.json();\n\n      onPlayersCardsFetched(player1, player2Request.data);\n\n      setPlayer2(() => {\n        return player2Request.data.map(pokemon => ({\n          ...pokemon,\n          possession: 'red',\n        }))\n      });\n    }\n\n    _fetchData();\n  }, []);\n\n  if (Object.keys(pokemons).length === 0) {\n    history.replace('/game');\n  }\n\n  const _gameFinished = (result) => {\n    onGameFinished(result);\n    alert(result);\n  };\n\n  const handleClickBoardPlate = async (position) => {\n    if (choiceCard) {\n      const params = {\n        position,\n        card: choiceCard,\n        board,\n      };\n\n      const res = await fetch('https://reactmarathon-api.netlify.app/api/players-turn', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(params),\n      });\n\n      const request = await res.json();\n      setBoard(request.data);\n\n      if (choiceCard.player === 1) {\n        setPlayer1(prevState => prevState.filter(item => item.id !== choiceCard.id));\n      }\n\n      if (choiceCard.player === 2) {\n        setPlayer2(prevState => prevState.filter(item => item.id !== choiceCard.id));\n      }\n\n      setSteps(prevState => {\n        return prevState + 1;\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (steps === 9) {\n      const [count1, count2] = counterWin(board, player1, player2);\n\n      if (count1 > count2) {\n        _gameFinished('WIN');\n      } else if (count1 < count2) {\n        _gameFinished('LOSE');\n      } else {\n        _gameFinished('DRAW');\n      }\n    }\n  }, [steps]);\n\n  return(\n    <div className={s.root}>\n      <div className={s.playerOne} >\n        <PlayerBoard player={1} cards={player1} onClickCard={(card) => setChoiceCard(card)} />\n      </div>\n      <div className={s.board}>\n        {\n          board.map(item => (\n            <div key={item.position} className={s.boardPlate} onClick={() => !item.card && handleClickBoardPlate(item.position)}>\n              {\n                item.card && <PokemonCard {...item.card} minimize isActive />\n              }\n            </div>\n          ))\n        }\n      </div>\n      <div className={s.playerTwo}>\n        <PlayerBoard player={2} cards={player2} onClickCard={(card) => setChoiceCard(card)} />\n      </div>\n    </div>\n  );\n};\n\nexport default BoardPage;","/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/routes/FinishPage/index.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/context/firebaseContext.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/context/pokemonContext.js",[],"/Users/akhrienov/dev/projects/education/zar_maraphone/pokemon-game/src/routes/GamePage/routes/BoardPage/component/PlayerBoard/index.js",[],{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","replacedBy":"108"},{"ruleId":"109","severity":1,"message":"110","line":29,"column":6,"nodeType":"111","endLine":29,"endColumn":8,"suggestions":"112"},{"ruleId":"109","severity":1,"message":"113","line":60,"column":6,"nodeType":"111","endLine":60,"endColumn":8,"suggestions":"114"},{"ruleId":"109","severity":1,"message":"115","line":116,"column":6,"nodeType":"111","endLine":116,"endColumn":13,"suggestions":"116"},"no-native-reassign",["117"],"no-negated-in-lhs",["118"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["119"],"React Hook useEffect has missing dependencies: 'onPlayersCardsFetched' and 'player1'. Either include them or remove the dependency array.",["120"],"React Hook useEffect has missing dependencies: '_gameFinished', 'board', 'player1', and 'player2'. Either include them or remove the dependency array.",["121"],"no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},{"desc":"126","fix":"127"},"Update the dependencies array to be: [history]",{"range":"128","text":"129"},"Update the dependencies array to be: [onPlayersCardsFetched, player1]",{"range":"130","text":"131"},"Update the dependencies array to be: [_gameFinished, board, player1, player2, steps]",{"range":"132","text":"133"},[927,929],"[history]",[1783,1785],"[onPlayersCardsFetched, player1]",[3086,3093],"[_gameFinished, board, player1, player2, steps]"]